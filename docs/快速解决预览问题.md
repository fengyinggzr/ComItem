# ğŸš€ å¿«é€Ÿè§£å†³é¢„è§ˆé£æ ¼é—®é¢˜

## é—®é¢˜
Qt Creator å’Œ Qt Design Studio é¢„è§ˆä¸­éƒ½æ— æ³•æ˜¾ç¤º ComItem çš„è“ç´«è‰²é£æ ¼

## âœ… ç«‹å³å¯ç”¨çš„è§£å†³æ–¹æ¡ˆ

### æ–¹æ¡ˆé€‰æ‹©

**æœ€æ¨èï¼šæ–¹æ¡ˆä¸€ - Attached Propertiesï¼ˆé™„åŠ å±æ€§ï¼‰**
- ç¬¦åˆ Qt å®˜æ–¹æœ€ä½³å®è·µ
- é¢„è§ˆå’Œè¿è¡Œéƒ½å®Œç¾æ”¯æŒ
- æ€§èƒ½æœ€ä¼˜

**æœ€ç®€å•ï¼šæ–¹æ¡ˆäºŒ - å†…è”æ ·å¼**
- æ— éœ€ C++ ç¼–è¯‘
- ç«‹å³å¯ç”¨
- 100% å¯é 

---

## ğŸ“‹ å®æ–½æ­¥éª¤

### æ–¹æ¡ˆä¸€ï¼šAttached Properties

```powershell
# 1. é‡æ–°æ„å»ºï¼ˆå·²åŒ…å« ComThemeAttached C++ ä»£ç ï¼‰
& "C:\Program Files\Microsoft Visual Studio\2022\Community\Common7\Tools\Launch-VsDevShell.ps1" -Arch amd64
cd d:\GitHub\ComItem
cmake --build build --config Debug

# 2. æµ‹è¯•æ•ˆæœ
cd example
qml StyleComparisonTest.qml

# 3. åœ¨ Qt Design Studio ä¸­é¢„è§ˆ StyleComparisonTest.qml
# è§‚å¯Ÿå“ªä¸ªæŒ‰é’®æ˜¾ç¤ºè“ç´«è‰²
```

**å¦‚æœ ComButton2_AttachedStyle æ˜¾ç¤ºæ­£å¸¸**ï¼š
- âœ… è¯´æ˜ Attached Properties å¯ç”¨
- å¯ä»¥å°†æ‰€æœ‰ç»„ä»¶è¿ç§»åˆ°è¿™ç§æ–¹å¼
- ä»£ç æ— éœ€ä¿®æ”¹ï¼ˆè¯­æ³•ç›¸åŒï¼ï¼‰

---

### æ–¹æ¡ˆäºŒï¼šå†…è”æ ·å¼ï¼ˆæœ€å¿«ï¼‰

**ä¸éœ€è¦æ„å»º**ï¼Œç›´æ¥ä¿®æ”¹ç°æœ‰ç»„ä»¶ï¼š

```qml
// åœ¨æ¯ä¸ªç»„ä»¶é¡¶éƒ¨æ·»åŠ ä¸»é¢˜å±æ€§
Button {
    id: root
    
    // æ·»åŠ è¿™äº›å±æ€§
    readonly property color themePrimary: "#6366f1"
    readonly property color themePrimaryHover: "#4f46e5"
    readonly property color themePrimaryPressed: "#4338ca"
    readonly property color themeTextOnPrimary: "#ffffff"
    readonly property color themeTextDisabled: "#9ca3af"
    readonly property int themeRadiusMedium: 6
    readonly property int themeFontSizeMedium: 14
    
    // ç„¶åå°† ComTheme.xxx æ›¿æ¢ä¸º themePrimary ç­‰
    background: Rectangle {
        color: root.hovered ? themePrimaryHover : themePrimary
    }
}
```

**å‚è€ƒ**: æŸ¥çœ‹ `qml/ComButton3_InlineStyle.qml` çš„å®Œæ•´å®ç°

---

## ğŸ§ª éªŒè¯æ–¹æ³•

### 1. è¿è¡Œæµ‹è¯•æ–‡ä»¶
```powershell
cd d:\GitHub\ComItem\example
qml StyleComparisonTest.qml
```

### 2. Qt Design Studio é¢„è§ˆ
1. æ‰“å¼€ Qt Design Studio
2. æ–‡ä»¶ â†’ æ‰“å¼€é¡¹ç›® â†’ `d:\GitHub\ComItem`
3. æ‰“å¼€ `example/StyleComparisonTest.qml`
4. è¿›å…¥**è®¾è®¡æ¨¡å¼**
5. è§‚å¯Ÿ4ä¸ªæŒ‰é’®çš„æ˜¾ç¤ºæ•ˆæœï¼š
   - ComButton (åŸå§‹å•ä¾‹) - å¯èƒ½ä¸æ˜¾ç¤ºé¢œè‰² âŒ
   - ComButton2 (Attached) - åº”è¯¥æ˜¾ç¤ºè“ç´«è‰² âœ…
   - ComButton3 (Inline) - åº”è¯¥æ˜¾ç¤ºè“ç´«è‰² âœ…
   - ComButton4 (Instance) - åº”è¯¥æ˜¾ç¤ºè“ç´«è‰² âœ…

---

## ğŸ¯ æˆ‘çš„å»ºè®®

### é‡‡ç”¨ Attached Propertiesï¼ˆæ–¹æ¡ˆä¸€ï¼‰

**ç†ç”±**:
1. è¿™æ˜¯ Material/Universal é£æ ¼çš„æ ‡å‡†åšæ³•
2. ä»£ç æ”¹åŠ¨æœ€å°ï¼ˆè¯­æ³•å®Œå…¨ç›¸åŒï¼‰
3. æ€§èƒ½æœ€ä¼˜
4. é•¿æœŸç»´æŠ¤æœ€ä½³

**è¿ç§»æ­¥éª¤**:
1. âœ… å·²åˆ›å»º `ComThemeAttached.h/.cpp`
2. âœ… CMake ä¼šè‡ªåŠ¨ç¼–è¯‘
3. ğŸ”„ æ„å»ºé¡¹ç›®: `cmake --build build --config Debug`
4. ğŸ§ª æµ‹è¯•é¢„è§ˆæ•ˆæœ
5. å¦‚æœæ­£å¸¸ï¼Œæ›´æ–° qmldir ç§»é™¤ singletonï¼š
   ```diff
   - singleton ComTheme 1.0 ComTheme.qml
   ```
6. ç»„ä»¶ä»£ç ä¿æŒä¸å˜ï¼

---

## âš¡ å¸¸è§é—®é¢˜

### Q: ä¸ºä»€ä¹ˆå•ä¾‹åœ¨é¢„è§ˆä¸­ä¸å·¥ä½œï¼Ÿ
**A**: Qt Design Studio çš„ qml2puppet é¢„è§ˆå¼•æ“å¯¹å•ä¾‹çš„æ”¯æŒä¸å®Œå–„ï¼ŒåŠ è½½æ—¶åºé—®é¢˜å¯¼è‡´é¢„è§ˆå¤±è´¥ã€‚

### Q: Attached Properties å’Œå•ä¾‹æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ
**A**: ä½¿ç”¨æ–¹å¼å®Œå…¨ç›¸åŒï¼ä½† Attached Properties æ˜¯ C++ å®ç°ï¼Œé¢„è§ˆå¼•æ“å®Œå…¨æ”¯æŒã€‚

### Q: å¦‚æœä¸æƒ³ç”¨ C++ï¼Œæœ‰çº¯ QML æ–¹æ¡ˆå—ï¼Ÿ
**A**: æœ‰ï¼ä½¿ç”¨æ–¹æ¡ˆäºŒï¼ˆå†…è”æ ·å¼ï¼‰æˆ–æ–¹æ¡ˆä¸‰ï¼ˆQtObject å®ä¾‹ï¼‰ï¼Œçº¯ QML å®ç°ã€‚

### Q: ä¼šå½±å“ç°æœ‰é¡¹ç›®å—ï¼Ÿ
**A**: ä¸ä¼šã€‚å¯ä»¥æ¸è¿›è¿ç§»ï¼Œæ–°è€æ–¹å¼å¯ä»¥å…±å­˜ã€‚

---

## ğŸ“ ä¸‹ä¸€æ­¥

1. **ç«‹å³æµ‹è¯•**: è¿è¡Œ `StyleComparisonTest.qml` æŸ¥çœ‹æ•ˆæœ
2. **é€‰æ‹©æ–¹æ¡ˆ**: æ ¹æ®æµ‹è¯•ç»“æœé€‰æ‹© Attached æˆ– Inline
3. **è¿ç§»ç»„ä»¶**: å‚è€ƒç¤ºä¾‹æ–‡ä»¶æ›´æ–°ç°æœ‰ç»„ä»¶
4. **éªŒè¯æ•ˆæœ**: åœ¨ D:\Project\UntitledProject ä¸­æµ‹è¯•

**éœ€è¦å¸®åŠ©ï¼Ÿ** æŸ¥çœ‹å®Œæ•´æ–‡æ¡£: `docs/é£æ ¼æ–¹æ¡ˆå¯¹æ¯”ä¸è¿ç§»æŒ‡å—.md`
